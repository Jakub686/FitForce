<div class="flex justify-center">
  <div class="grid grid-cols-2 gap-4 p-8 min-w-80">
    <div style="min-height: 360px" class="">
      <span>Selected date: {{ selectedDate | date }}</span>
      <div *ngIf="message">
        <p>{{ message }}</p>
      </div>
      <table mat-table [dataSource]="dataSource" class="table">
        <ng-container matColumnDef="created">
          <th mat-header-cell *matHeaderCellDef> Created</th>
          <td mat-cell *matCellDef="let element"> {{ element.created }}</td>
        </ng-container>

        <ng-container matColumnDef="weightValue">
          <th mat-header-cell *matHeaderCellDef> Weight</th>
          <td mat-cell *matCellDef="let element"> {{ element.weightValue }}</td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
    <div *ngIf="showCalendar" class="row-span-2">
      <mat-card>
        <mat-calendar [(selected)]="selectedDate" [dateClass]="dateClass"
                      (selectedChange)="onDateChange($event)"></mat-calendar>
      </mat-card>
    </div>
    <div *ngIf="!showCalendar" class="row-span-2">
      <mat-card>
        <mat-calendar [(selected)]="selectedDate" [dateClass]="dateClass"
                      (selectedChange)="onDateChange($event)"></mat-calendar>
      </mat-card>
    </div>
    <div class="bottom">
      <form [formGroup]="myForm">
        <div>
          <div class="flex justify-start">
            <mat-form-field>
              <input type="text" matInput formControlName="time" placeholder="Time">
              <mat-hint>Enter time</mat-hint>
              @if (myForm.controls['time'].hasError('required')) {
                <mat-error>Field is required</mat-error>
              }
              @if (myForm.controls['time'].hasError('minlength')) {
                <mat-error>Minimum length is 2</mat-error>
              }
            </mat-form-field>
            <mat-form-field class="px-2">
              <input type="text" matInput formControlName="note" placeholder="Note">
              <mat-hint>Enter date</mat-hint>
              @if (myForm.controls['note'].hasError('required')) {
                <mat-error>Field is required</mat-error>
              }
              @if (myForm.controls['note'].hasError('minlength')) {
                <mat-error>Minimum length is 2</mat-error>
              }
            </mat-form-field>
          </div>
          <div class="flex justify-end pt-2">
            <div class="flex justify-between w-40 pr-2">
              <button color="warn" (click)="deleteTraining()" mat-flat-button>Clear</button>
              <button color="primary" (click)="save()" mat-flat-button>Add</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
